# Register ENS

```zsh
Running 1 test for test/ENSMarket.t.sol:ENSMarketTest
[PASS] test_register() (gas: 274556)
Logs:
  Commit Time: 1700818979
  Register Time: 1700819040

Traces:
  [2588663] ENSMarketTest::setUp()
    ├─ [1353907] → new DeployENSMarket@0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f
    │   └─ ← 6652 bytes of code
    ├─ [1154772] DeployENSMarket::run()
    │   ├─ [253011] → new HelperConfig@0x104fBc016F4bb334D775a19E8A6510109AC63E00
    │   │   └─ ← 820 bytes of code
    │   ├─ [665] HelperConfig::activeNetworkConfig() [staticcall]
    │   │   └─ ← 0x253553366Da8546fC250F225fe3d25d0C782303b, 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401, 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85
    │   ├─ [0] VM::startBroadcast()
    │   │   └─ ← ()
    │   ├─ [831682] → new ENSMarket@0x90193C961A926261B756D1E5bb255e67ff9498A1
    │   │   └─ ← 4151 bytes of code
    │   ├─ [0] VM::stopBroadcast()
    │   │   └─ ← ()
    │   └─ ← ENSMarket: [0x90193C961A926261B756D1E5bb255e67ff9498A1]
    ├─ [0] VM::addr(70564938991660933374592024341600875602376452319261984317470407481576058979585 [7.056e76]) [staticcall]
    │   └─ ← alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6]
    ├─ [0] VM::label(alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], "alice")
    │   └─ ← ()
    └─ ← ()

  [274556] ENSMarketTest::test_register()
    ├─ [0] VM::startPrank(alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6])
    │   └─ ← ()
    ├─ [0] VM::deal(alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], 1000000000000000000 [1e18])
    │   └─ ← ()
    ├─ emit log_named_uint(key: "Commit Time", val: 1700818979 [1.7e9])
    ├─ [40944] ENSMarket::getRentPrice("my_new_name") [staticcall]
    │   ├─ [37153] 0x253553366Da8546fC250F225fe3d25d0C782303b::rentPrice("my_new_name", 31536000 [3.153e7]) [staticcall]
    │   │   ├─ [2523] 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85::nameExpires(66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76]) [staticcall]
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   ├─ [27509] 0x7542565191d074cE84fBfA92cAE13AcB84788CA9::price("my_new_name", 0, 31536000 [3.153e7]) [staticcall]
    │   │   │   ├─ [14620] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [7124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   ├─ [2120] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [1124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000008762037725ec60000000000000000000000000000000000000000000000000000000000000000
    │   │   └─ ← 0x0000000000000000000000000000000000000000000000000008762037725ec60000000000000000000000000000000000000000000000000000000000000000
    │   └─ ← Price({ base: 2381680554958534 [2.381e15], premium: 0 })
    ├─ [2111] ENSMarket::createCommitment("my_new_name", alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], 31536000 [3.153e7], 0xc7c416a1e7c42f101dad44002093abfa5f65a35d40e573f1a8b49bfc10ea02cf, 0x0000000000000000000000000000000000000000, [], false, 0) [staticcall]
    │   └─ ← 0x8bd90c82dc4101c2f6d33425b84312e49e49bfa3a504780e6f26c9c70f268106
    ├─ [23289] ENSMarket::commit(0x8bd90c82dc4101c2f6d33425b84312e49e49bfa3a504780e6f26c9c70f268106)
    │   ├─ [22630] 0x253553366Da8546fC250F225fe3d25d0C782303b::commit(0x8bd90c82dc4101c2f6d33425b84312e49e49bfa3a504780e6f26c9c70f268106)
    │   │   └─ ← ()
    │   └─ ← ()
    ├─ [0] VM::warp(1700819040 [1.7e9])
    │   └─ ← ()
    ├─ emit log_named_uint(key: "Register Time", val: 1700819040 [1.7e9])
    ├─ [182165] ENSMarket::register{value: 2381680554958534}("my_new_name", alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], 31536000 [3.153e7], 0xc7c416a1e7c42f101dad44002093abfa5f65a35d40e573f1a8b49bfc10ea02cf, 0x0000000000000000000000000000000000000000, [], false, 0)
    │   ├─ [15312] 0x253553366Da8546fC250F225fe3d25d0C782303b::rentPrice("my_new_name", 31536000 [3.153e7]) [staticcall]
    │   │   ├─ [523] 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85::nameExpires(66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76]) [staticcall]
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   ├─ [12668] 0x7542565191d074cE84fBfA92cAE13AcB84788CA9::price("my_new_name", 0, 31536000 [3.153e7]) [staticcall]
    │   │   │   ├─ [2120] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [1124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   ├─ [2120] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [1124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000008762037725ec60000000000000000000000000000000000000000000000000000000000000000
    │   │   └─ ← 0x0000000000000000000000000000000000000000000000000008762037725ec60000000000000000000000000000000000000000000000000000000000000000
    │   ├─ [157072] 0x253553366Da8546fC250F225fe3d25d0C782303b::register{value: 2381680554958534}("my_new_name", alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], 31536000 [3.153e7], 0xc7c416a1e7c42f101dad44002093abfa5f65a35d40e573f1a8b49bfc10ea02cf, 0x0000000000000000000000000000000000000000, [], false, 0)
    │   │   ├─ [523] 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85::nameExpires(66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76]) [staticcall]
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   ├─ [12668] 0x7542565191d074cE84fBfA92cAE13AcB84788CA9::price("my_new_name", 0, 31536000 [3.153e7]) [staticcall]
    │   │   │   ├─ [2120] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [1124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   ├─ [2120] 0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419::latestAnswer() [staticcall]
    │   │   │   │   ├─ [1124] 0xE62B71cf983019BFf55bC83B48601ce8419650CC::latestAnswer() [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   │   └─ ← 0x00000000000000000000000000000000000000000000000000000030e1260201
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000008762037725ec60000000000000000000000000000000000000000000000000000000000000000
    │   │   ├─ [569] 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85::available(66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76]) [staticcall]
    │   │   │   └─ ← 0x0000000000000000000000000000000000000000000000000000000000000001
    │   │   ├─ [147602] 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401::registerAndWrapETH2LD("my_new_name", alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], 31536000 [3.153e7], 0x0000000000000000000000000000000000000000, 0)
    │   │   │   ├─ [91145] 0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85::register(66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76], 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401, 31536000 [3.153e7])
    │   │   │   │   ├─ [2951] 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e::owner(0x93cdeb708b7545dc668eb9280176169d1c33cfd8ed6f04690a0bcc88a93fc4ae) [staticcall]
    │   │   │   │   │   └─ ← 0x00000000000000000000000057f1887a8bf19b14fc0df6fd9b2acc9af147ea85
    │   │   │   │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401, tokenId: 66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76])
    │   │   │   │   ├─ [25069] 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e::setSubnodeOwner(0x93cdeb708b7545dc668eb9280176169d1c33cfd8ed6f04690a0bcc88a93fc4ae, 0x93dbf557693acd728ae3fc6f44888362b47822cc3a67b9969a508e82a5239370, 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401)
    │   │   │   │   │   ├─ emit NewOwner(node: 0x93cdeb708b7545dc668eb9280176169d1c33cfd8ed6f04690a0bcc88a93fc4ae, label: 0x93dbf557693acd728ae3fc6f44888362b47822cc3a67b9969a508e82a5239370, owner: 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401)
    │   │   │   │   │   └─ ← 0xb06622130280008e40bfcc7f8dfe95793f98a85196abb53e42c5a16474910d3a
    │   │   │   │   ├─ emit NameRegistered(id: 66878621533378929571864897251546994675403720721589284185685379034090347664240 [6.687e76], owner: 0xD4416b13d2b3a9aBae7AcD5D6C2BbDBE25686401, expires: 1732355040 [1.732e9])
    │   │   │   │   └─ ← 0x000000000000000000000000000000000000000000000000000000006741a3e0
    │   │   │   ├─ emit TransferSingle(operator: 0x253553366Da8546fC250F225fe3d25d0C782303b, from: 0x0000000000000000000000000000000000000000, to: alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], id: 79787514923140338732460962921823399702127321520420068197196330152815724924218 [7.978e76], value: 1)
    │   │   │   ├─ emit NameWrapped(node: 0xb06622130280008e40bfcc7f8dfe95793f98a85196abb53e42c5a16474910d3a, name: 0x0b6d795f6e65775f6e616d650365746800, owner: alice: [0x328809Bc894f92807417D2dAD6b7C998c1aFdac6], fuses: 196608 [1.966e5], expiry: 1740131040 [1.74e9])
    │   │   │   └─ ← 0x000000000000000000000000000000000000000000000000000000006741a3e0
    │   │   ├─ emit NameRegistered(param0: "my_new_name", param1: 0x0000000000000000000000000000000000000000000000000008762037725ec6, param2: 0x0000000000000000000000000000000000000000, param3: 1732355040 [1.732e9], param4: 11, param5: 49516547632596947897790984400236102137055570870134426422048736648097895022592 [4.951e76])
    │   │   └─ ← ()
    │   └─ ← ()
    ├─ [0] VM::stopPrank()
    │   └─ ← ()
    └─ ← ()

Test result: ok. 1 passed; 0 failed; 0 skipped; finished in 2.61s
 
Ran 1 test suites: 1 tests passed, 0 failed, 0 skipped (1 total tests)
```